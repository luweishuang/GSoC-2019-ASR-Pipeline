---
title: Introduction to Red Hen Data Format for ASR
date: 2019-08-05 19:24:38
tags:
- coding
---

<!-- toc -->

## Red Hen Data Format

In this post, I'll introduce output data format required by Red Hen for ASR.

<!-- more -->

### Header

These are the fields used in the header block:

```
TOP -- contains the starting timestamp and the file name
COL -- contains the collection name
UID -- a unique ID for the collection
PID -- the show's episode (EP) or show (SH) ID
ACQ -- the time of acquisition
DUR -- the duration of the recording in hours:minutes:seconds.hundredths of a second
VID -- the picture size of the compressed video and of the original video
TTL -- the title of the event if applicable, or the series, if it contains non-ascii characters
URL -- the web source if applicable
TTS -- the type of transcript if applicable
SRC -- the recording location
CMT -- a comment added by the person scheduling the recording, or to indicate its quality ("Garbled captions")
LAN -- three-letter ISO language code (see list below)
TTP -- the teletext page
HED -- the header if available, typically with summary information about the content
OBT -- the original broadcast time, when it differs from the local broadcast time, "OBT|Estimated" is used in digitized files when the precise broadcast time is unknown
LBT -- the local broadcast time, with time zone
END -- [at the end of the file] contains end timestamp and filename
Add any missing fields.
```

A campaign ad example:

```
TOP|20151121000000|2015-11-21_0000_US_CampaignAds_Americans_for_Prosperity
COL|Communication Studies Archive, UCLA
UID|591e3ed8-8ff0-11e5-9a62-003048ce8836
AQD|2015-11-21 01:36:55 UTC
DUR|0:00:30.07
VID|1280x720
TTL|We are AFP Alaska!
URL|http://youtube.com/watch?v=g-5BPZt5uPA
TTS|Youtube English machine transcript 2015-11-21 0137 UTC
CMT|
HED|
LBT|2015-11-20 19:00:00 America/New_York
```

### Main body

I'll fist introduce an important concept -- primary tags, including text tags and annotation tags:

- Text tags

```
CCO -- spoken language in US broadcasts -- either English or Spanish (interpolated timestamps)
CC1 -- spoken language in US broadcasts -- either English or Spanish
CC2 -- translated Spanish text provided by the network in US broadcasts (before 2012)
CC3 -- translated Spanish text provided by the network in US broadcasts (after 2012)
OCR1 -- on-screen text, obtained through optical character recognition
TIC1 -- tickertape text, ideally captions, obtained through CCExtractor's OCR functionality
TR0 -- English transcripts downloaded from the web (typically official transcripts from the network)
TR1 -- English transcript, typically generated by machine transcription (speech to text) in Youtube
TR4 -- Russian transcript, typically generated by machine transcription (speech to text) in Youtube
ASR_01 -- Chinese transcript, generated by DeepSpeech2 (speech to text) in Red Hen's Chinese pipeline
XDS -- metadata sent through Extended Data Services
888 -- teletext page in European transmissions (any three digits) (no longer used)
To be completed
```

- Annotation tags

```
FRM_01 -- linguistic frames, from FrameNet 1.5 via Semafor 3.0-alpha4
GES_02 -- timeline gestures by Javier Valenzuela and Cristobal Pagan Canovas
NER_03 -- named entities, using the Stanford NER tagger 3.4
POS_01 -- English parts of speech with dependencies, using MBSP 1.4
POS_02 -- English parts of speech, using the Stanford POS tagger 3.4
POS_03 -- German parts of speech, using the parser in Pattern.de
POS_04 -- French parts of speech, using the parser in Pattern.fr
POS_05 -- Spanish parts of speech, using the parser in pattern.es
SEG -- Story boundaries by Weixin Li, UCLA
SEG_00 -- Commercial boundaries, using caption type information from CCExtractor 0.74
SEG_01 -- Commercial Detection by Weixin Li
SEG_02 -- Story boundaries by Rongda Zhu, UIUC
SMT_01 -- Sentiment detection, using Pattern 2.6
SMT_02 -- Sentiment detection, using SentiWordNet 3.0
DEU_01 -- German to English machine translation
```

For the main body, each line has an absolute start time and end time in Universal time, a primary tag, and some content. Each primary tag must be explained in the legend section. 

An example:

```
20151020220010.209|20151020220013.212|CC1|>>> "SPECIAL REPORT" IS NEXT.
20151020220010.209|20151020220013.212|POS_02|"SPECIAL/JJ|REPORT"/NN|IS/VBZ|NEXT./NNP|
20151020220010.209|20151020220013.212|FRM_01|REPORT|2-3|Statement
20151020220010.209|20151020220013.212|POS_01|"/``/I-NP/O/"|special/JJ/I-NP/O/special|report/NN/I-NP/O/report|"/NN/I-NP/O/"|is/VBZ/I-VP/O/be|next/JJ/I-ADJP/O/next|././O/O/.
20151020220010.209|20151020220013.212|SMT_01|0.178571428571|0.285714285714|special|0.357142857143|0.571428571429|next|0.0|0.0
20151020220010.209|20151020220013.212|SMT_02|SPECIAL|0.0|0.0|NEXT|0.0|0.0
20151020220013.212|20151020220017.516|CC1|>>> OUTGOING HOUSE SPEAKER JOHN BOEHNER LIVE ON THE COMPLICATED RACE TO SUCCEED HIM.
20151020220013.212|20151020220017.516|POS_02|OUTGOING/JJ|HOUSE/NNP|SPEAKER/NNP|JOHN/NNP|BOEHNER/NNP|LIVE/VB|ON/IN|THE/DT|COMPLICATED/JJ|RACE/NN|TO/TO|SUCCEED/VB|HIM./NNP|
20151020220013.212|20151020220017.516|NER_03|ORGANIZATION/HOUSE|PERSON/JOHN BOEHNER
20151020220013.212|20151020220017.516|FRM_01|OUTGOING|0-1|Sociability
20151020220013.212|20151020220017.516|FRM_01|HOUSE|1-2|Buildings|SRL|HOUSE|1-2|Building
20151020220013.212|20151020220017.516|FRM_01|RACE|9-10|Type|SRL|RACE|9-10|Subtype
20151020220013.212|20151020220017.516|FRM_01|SUCCEED|11-12|Success_or_failure|SRL|RACE TO|9-11|Agent
20151020220013.212|20151020220017.516|POS_01|outgoing/JJ/I-NP/O/outgoing|house/NN/I-NP/O/house|speaker/NN/I-NP/O/speaker|john/NN/I-NP/O/john|boehner/NN/I-NP/O/boehner|live/VB/I-VP/O/live|on/IN/I-PP/B-PNP/on|the/DT/I-NP/I-PNP/the|complicated/VBN/I-NP/I-PNP/complicate|race/NN/I-NP/I-PNP/race|to/TO/I-VP/O/to|succeed/VB/I-VP/O/succeed|him/PRP/I-NP/O/him|././O/O/.
20151020220013.212|20151020220017.516|SMT_01|-0.181818181818|0.75|live|0.136363636364|0.5|complicated|-0.5|1.0
20151020220013.212|20151020220017.516|SMT_02|OUTGOING|0.0|0.0|LIVE|0.0|0.0|ON|0.0|0.0|COMPLICATED|-0.5|0.75
```

### Reference

1. https://sites.google.com/site/distributedlittleredhen/home/the-cognitive-core-research-topics-in-red-hen/red-hen-data-format#TOC-Header-block
2. https://sites.google.com/site/distributedlittleredhen/home/the-cognitive-core-research-topics-in-red-hen/red-hen-data-format#TOC-Main-body
3. https://sites.google.com/site/distributedlittleredhen/home/the-cognitive-core-research-topics-in-red-hen/red-hen-data-format#TOC-Primary-tag-inventory
